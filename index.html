<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>藥物的毒營養來解 - 科學營養方案</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #4a5568;
        }
        
        .header p {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
        }
        
        .author {
            font-style: italic;
            color: #888;
            font-size: 1.1em;
        }
        
        .search-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .tab-button {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 15px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .tab-button:hover {
            background: #4299e1;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .tab-button.active {
            background: #4299e1;
            color: white;
        }
        
        .search-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .search-section {
            display: none;
        }
        
        .search-section.active {
            display: block;
        }
        
        .search-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .search-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .search-item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .results-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
            margin-top: 20px;
        }
        
        .results-section.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .result-card.nutrient-card {
             background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }

        .result-card.symptom-card {
             background: linear-gradient(135deg, #fccb90 0%, #d57eeb 100%);
        }
        
        .result-card h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }
        
        .result-card h4 {
            font-size: 1.3em;
            margin: 20px 0 10px 0;
            color: #ffe;
        }
        
        .result-card ul {
            list-style: none;
            padding-left: 0;
        }
        
        .result-card li {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 15px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 4px solid rgba(255, 255, 255, 0.5);
            transition: all 0.2s ease-in-out;
        }
         .result-card li:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(5px);
         }
        
        .back-button {
            background: #4299e1;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .back-button:hover {
            background: #3182ce;
            transform: translateY(-2px);
        }
        
        .disclaimer {
            background: rgba(255, 235, 59, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            border-left: 5px solid #ffc107;
        }
        
        .disclaimer h4 {
            color: #e65100;
            margin-bottom: 10px;
        }
        
        .disclaimer p {
            color: #666;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>藥物的毒營養來解</h1>
            <p>擺脫藥物副作用的科學營養方案</p>
            <div class="author">根據蘇西·科恩 (Suzy Cohen) 著作《Drug Muggers》設計</div>
        </div>
        
        <div class="search-tabs">
            <button class="tab-button active" onclick="showTab(event, 'drugs')">🔍 依藥物查詢</button>
            <button class="tab-button" onclick="showTab(event, 'symptoms')">🩺 依症狀查詢</button>
            <button class="tab-button" onclick="showTab(event, 'nutrients')">🌿 依營養素查詢</button>
        </div>
        
        <div class="search-content">
            <div id="drugs" class="search-section active">
                <h2>選擇您正在服用的藥物類別</h2>
                <div class="search-grid" id="drug-grid">
                    </div>
            </div>
            
            <div id="symptoms" class="search-section">
                <h2>選擇您遇到的身體症狀</h2>
                <div class="search-grid" id="symptom-grid">
                    </div>
            </div>
            
            <div id="nutrients" class="search-section">
                <h2>選擇您想了解的營養素</h2>
                <div class="search-grid" id="nutrient-grid">
                     </div>
            </div>
        </div>
        
        <div id="results" class="results-section">
            <button class="back-button" onclick="hideResults()">← 返回查詢</button>
            <div id="results-content"></div>
        </div>
        
        <div class="disclaimer">
            <h4>⚠️ 重要聲明</h4>
            <p>本工具資訊整理自《藥物的毒營養來解》，僅供參考，不能取代專業醫療建議。在調整任何藥物治療或營養補充計劃前，請務必諮詢您的醫師或藥師。每個人的身體狀況不同，營養需求也會因個人差異而有所不同。切勿自行停藥。</p>
        </div>
    </div>

    <script>
        // --- 資料庫開始 ---

        const db = {
            drugs: {
                '阻酸劑與抗酸劑': {
                    examples: ['奧美拉唑(Omeprazole)', '泮托拉唑(Pantoprazole)', '雷尼替丁(Ranitidine)', '碳酸鈣'],
                    sideEffects: ['胃部不適', '改變腸道酸度，影響菌叢', '抑制其他重要藥物吸收(如甲狀腺藥物)', '長期使用可能增加骨折風險'],
                    depletedNutrients: ['維生素B12', '葉酸(B9)', '維生素C', '維生素D', '鈣', '鐵', '鎂', '鋅', '輔酶Q10', '褪黑素'],
                    solutions: [
                        '長期使用者建議補充綜合維生素礦物質，特別是「維生素B12」(因胃酸是其吸收關鍵)。',
                        '補充「鈣」、「鎂」和「維生素D」，以維護骨骼健康。',
                        '補充「鐵」和「鋅」，注意與藥物間隔2小時服用。',
                        '與喹諾酮類抗菌藥、甲狀腺藥物需間隔至少2-4小時服用。'
                    ]
                },
                '止痛藥 (NSAIDs/阿片類)': {
                    examples: ['布洛芬(Ibuprofen)', '萘普生(Naproxen)', '對乙酰氨基酚(Tylenol)', '可待因(Codeine)'],
                    sideEffects: ['胃腸不適或出血', '肝臟損傷(特別是對乙酰氨基酚與酒精同服)', '增加出血風險(阿司匹林)', '便秘、嗜睡(阿片類)'],
                    depletedNutrients: ['葉酸(B9)', '維生素C', '谷胱甘肽', '鐵', '褪黑素', '鉀'],
                    solutions: [
                        '補充「谷胱甘肽」或其前體NAC，以保護肝臟(特別是服用對乙酰氨基酚者)。',
                        '補充「維生素C」和「鐵」，但鐵補充劑需與阿司匹林謹慎使用。',
                        '服用阿片類藥物應避免與酒精或鎮靜草藥同服，以免加重呼吸抑制。',
                        '高膳食纖維食物可能延緩藥效，需注意。'
                    ]
                },
                '抗菌藥 (抗生素)': {
                    examples: ['阿莫西林(Amoxicillin)', '阿奇黴素(Azithromycin)', '環丙沙星(Cipro)', '多西環素(Doxycycline)'],
                    sideEffects: ['殺死腸道好菌，導致腹瀉、痙攣', '念珠菌過度生長(如陰道炎)', '艱難梭菌感染風險增加'],
                    depletedNutrients: ['益生菌', 'B群維生素(B1, B2, B7, B9, B12)', '維生素A', '維生素C', '維生素D', '鈣', '鐵', '鎂', '鋅', '硒'],
                    solutions: [
                        '最重要：在服用抗生素期間和之後補充「益生菌」(與抗生素間隔至少2小時)。',
                        '補充「B群維生素」，因為腸道菌群是B群的製造工廠之一。',
                        '服用四環素或喹諾酮類抗生素，應避免與乳製品、鈣、鐵、鋅補充劑同時服用(至少間隔2-4小時)。'
                    ]
                },
                '降膽固醇藥 (他汀類)': {
                    examples: ['阿託伐他汀(Lipitor)', '瑞舒伐他汀(Crestor)', '辛伐他汀(Zocor)'],
                    sideEffects: ['肌肉疼痛、無力、抽筋', '疲勞、記憶力減退', '肝指數升高', '血糖升高', '橫紋肌溶解症(罕見但嚴重)'],
                    depletedNutrients: ['輔酶Q10 (CoQ10)', '維生素A', '維生素D', '維生素B12', '葉酸(B9)', '鈣', '鐵', '鎂', '鋅'],
                    solutions: [
                        '最關鍵：補充「輔酶Q10」(100-200mg/天或更高)，可顯著改善肌肉疼痛和疲勞。',
                        '補充「維生素D」，缺乏維生素D也可能導致肌肉疼痛。',
                        '避免與葡萄柚/石榴汁同服，以免增加藥物濃度和副作用風險。',
                        '定期監測肝功能和血糖水平。'
                    ]
                },
                '降壓藥': {
                    examples: ['ACE抑制劑(如Lisinopril)', 'β受體阻滯劑(如Metoprolol)', '鈣通道阻滯劑(如Amlodipine)', '利尿劑(見單獨分類)'],
                    sideEffects: ['疲勞、頭暈', '乾咳(ACE抑制劑)', '心率減慢(β受體阻滯劑)', '水腫(鈣通道阻滯劑)'],
                    depletedNutrients: ['輔酶Q10 (特別是β受體阻滯劑)', '鋅 (特別是ACE抑制劑)', '鈣 (鈣通道阻滯劑干擾其作用)', '褪黑素', '多種B群維生素'],
                    solutions: [
                        '補充「輔酶Q10」，有助於心肌能量，改善疲勞。',
                        '補充「鋅」，特別是服用ACE抑制劑和利尿劑者。',
                        '補充「褪黑素」和「B群維生素」，可能有助於改善睡眠和精力。',
                        '服用鈣通道阻滯劑時，避免飲用葡萄柚汁。'
                    ]
                },
                '利尿劑': {
                    examples: ['氫氯噻嗪(HCTZ)', '呋塞米(Lasix)', '螺內酯(Spironolactone)'],
                    sideEffects: ['電解質失衡', '脫水', '頻尿', '低鉀血症(非保鉀類，可能危及生命)'],
                    depletedNutrients: ['鉀', '鎂', '鈣', '鋅', 'B群維生素(B1, B9等)', '維生素C', '輔酶Q10'],
                    solutions: [
                        '服用非保鉀利尿劑者，務必監測並補充「鉀」(可從香蕉、菠菜、馬鈴薯等食物攝取)。',
                        '「鎂」的流失非常普遍，補充鎂有助於心血管健康和肌肉功能。',
                        '補充「B群維生素」和「輔酶Q10」，以支持能量代謝。',
                        '服用保鉀利尿劑者，則需小心高血鉀風險，避免額外補鉀。'
                    ]
                },
                '糖尿病藥物': {
                    examples: ['二甲雙胍(Metformin)', '格列美脲(Glimepiride)', '胰島素(Insulin)'],
                    sideEffects: ['低血糖風險', '腸胃不適(二甲雙胍)', '體重變化', '心衰竭風險(部分藥物)'],
                    depletedNutrients: ['維生素B12 (二甲雙胍的確定副作用)', '葉酸(B9) (二甲雙胍)', '輔酶Q10 (二甲雙胍)', '維生素B6'],
                    solutions: [
                        '長期服用二甲雙胍者，強烈建議監測並補充「維生素B12」，以預防神經病變和貧血。',
                        '補充「輔酶Q10」，支持心臟健康和能量。',
                        '補充「葉酸」和「維生素B6」，與B12協同作用。',
                        '注意酒精、蘆薈、維生素D等可能增強降糖效果，需監測血糖。'
                    ]
                },
                 '雌激素藥物 (避孕藥/HRT)': {
                    examples: ['炔雌醇(Ethinyl Estradiol)', '結合雌激素(Premarin)'],
                    sideEffects: ['增加血栓、心臟病、腦卒中風險', '情緒波動、性慾下降', '念珠菌過度生長', '宮頸問題風險增加'],
                    depletedNutrients: ['B群維生素 (全體，特別是B2, B6, B9, B12)', '維生素C', '鎂', '鋅', '硒', '碘', '褪黑素'],
                    solutions: [
                        '強烈建議補充高品質的「B群維生素」，特別是活性葉酸(5-MTHF)和B6、B12。',
                        '補充「鎂」和「鋅」，有助於改善情緒和免疫力。',
                        '補充「硒」和「碘」，支持甲狀腺功能。',
                        '避免與葡萄柚汁同服。'
                    ]
                },
                '抗抑鬱藥 (SSRI/三環類)': {
                    examples: ['舍曲林(Zoloft)', '氟西汀(Fluoxetine)', '阿米替林(Amitriptyline)'],
                    sideEffects: ['體重變化', '失眠或嗜睡', '性功能障礙', '血清素綜合症風險(特別是MAOI)'],
                    depletedNutrients: ['輔酶Q10', '褪黑素 (影響睡眠)', '硒', '谷胱甘肽', '葉酸(B9)'],
                    solutions: [
                        '補充「輔酶Q10」，可能有助於改善能量。',
                        '可考慮補充「褪黑素」改善睡眠，但需與醫師討論。',
                        '補充「葉酸」和「硒」，對情緒調節有益。',
                        '服用SSRI類藥物應注意咖啡因攝取，可能引發震顫、失眠。'
                    ]
                },
                '類固醇藥物': {
                    examples: ['潑尼松(Prednisone)', '地塞米松(Dexamethasone)', '吸入性布地奈德(Budesonide)'],
                    sideEffects: ['骨質疏鬆、骨骼脆化', '血糖升高、體重增加', '免疫力下降', '情緒不穩、失眠'],
                    depletedNutrients: ['鈣', '鎂', '鉀', '維生素D', '維生素C', '鋅', '硒', '葉酸(B9)'],
                    solutions: [
                        '最重要：補充「鈣」、「鎂」和「維生素D」以保護骨骼，預防骨質疏鬆。',
                        '補充「鉀」，因為類固醇會導致鉀流失。',
                        '補充「鋅」、「硒」和「維生素C」以支持被抑制的免疫系統。'
                    ]
                }
            },
            symptoms: {
                '疲勞/精力不足': {
                    possibleCauses: ['他汀類藥物 (消耗輔酶Q10)', '利尿劑 (消耗多種營養素)', '降壓藥', '阻酸劑 (影響B12、鐵吸收)', '抗抑鬱藥', '營養缺乏：輔酶Q10, B群, 鐵, 鎂, 維生素C/D'],
                    solutions: [
                        '檢查是否在服用他汀類藥物，若是，強烈建議補充「輔酶Q10」。',
                        '補充高品質「B群維生素」，它們是能量代謝的關鍵。',
                        '檢查鐵蛋白水平，若偏低則補充「鐵」(搭配維生素C以增加吸收)。',
                        '補充「鎂」，它參與體內數百種能量反應。',
                        '確保充足的「維生素D」水平。'
                    ]
                },
                '肌肉疼痛/抽筋': {
                    possibleCauses: ['他汀類藥物 (最常見原因)', '利尿劑 (消耗鉀、鎂)', '類固醇', '營養缺乏：輔酶Q10, 鎂, 鉀, 鈣, 維生素D'],
                    solutions: [
                        '服用他汀類藥物者，首要考慮補充「輔酶Q10」。',
                        '補充「鎂」是天然的肌肉鬆弛劑，對各種類型抽筋都有效。',
                        '服用利尿劑者，需注意「鉀」的補充。',
                        '確保「鈣」與「維生素D」攝取充足，維持電解質平衡。'
                    ]
                },
                '記憶力下降/腦霧': {
                    possibleCauses: ['他汀類藥物 (消耗輔酶Q10)', '阻酸劑 (消耗B12)', '抗抑鬱藥', '抗驚厥藥', '營養缺乏：輔酶Q10, 維生素B12, 葉酸, 鎂, Omega-3'],
                    solutions: [
                        '長期服用阻酸劑或二甲雙胍者，務必檢查並補充「維生素B12」。',
                        '補充「輔酶Q10」，它能穿透血腦屏障，為腦細胞提供能量。',
                        '補充「鎂」，有助於保護大腦功能。',
                        '攝取足夠的Omega-3脂肪酸 (如魚油)，支持大腦健康。'
                    ]
                },
                '消化不良/腹瀉/便秘': {
                    possibleCauses: ['抗菌藥 (破壞腸道菌叢)', '止痛藥 (傷胃)', '阻酸劑 (改變腸道pH值)', '糖尿病藥物(二甲雙胍)', '鐵補充劑', '阿片類止痛藥 (導致便秘)'],
                    solutions: [
                        '服用抗生素後，補充「益生菌」是恢復腸道健康的關鍵。',
                        '若因止痛藥導致胃不適，可考慮補充「谷胱甘肽」或「鋅」來保護胃黏膜。',
                        '若便秘，確保足夠的水分和膳食纖維，並補充「鎂」。',
                        '若腹瀉，除了「益生菌」，「鋅」也有助於修復腸道內壁。'
                    ]
                },
                '睡眠障礙/失眠': {
                    possibleCauses: ['抗抑鬱藥', '降壓藥 (β受體阻滯劑)', '類固醇', '減充血劑', '營養缺乏：褪黑素, 鎂, B群'],
                    solutions: [
                        '補充「鎂」能放鬆神經系統，幫助入睡。',
                        '考慮補充「褪黑素」，因為多種藥物會抑制其分泌。',
                        '補充「維生素B6」，它是製造血清素和褪黑素的輔助因子。',
                        '避免睡前攝取咖啡因和酒精。'
                    ]
                },
                 '情緒波動/焦慮/抑鬱': {
                    possibleCauses: ['雌激素藥物', '抗抑鬱藥', '類固醇', '精神類藥物', '營養缺乏：鎂, B群 (B6, B9, B12), Omega-3, 維生素D, 硒, 鋅'],
                    solutions: [
                        '「鎂」是天然的鎮靜劑，能有效緩解焦慮和情緒波動。',
                        '「B群維生素」對神經傳導物質的合成至關重要，特別是B6、葉酸和B12。',
                        '「Omega-3 魚油」已被證實對改善抑鬱情緒有益。',
                        '確保充足的「維生素D」水平，它與大腦中的血清素調節有關。'
                    ]
                },
                '免疫力下降/頻繁感染': {
                    possibleCauses: ['類固醇', '抗菌藥', '阻酸劑', '雌激素藥物', '營養缺乏：維生素C, 維生素D, 鋅, 硒, 益生菌'],
                    solutions: [
                        '「維生素C」是免疫系統的基礎，在高壓或感染時需求量大增。',
                        '「維生素D」是重要的免疫調節劑。',
                        '「鋅」對白血球功能至關重要，能有效對抗病毒。',
                        '「硒」和「益生菌」也對維持強大的免疫反應非常重要。'
                    ]
                }
            },
            nutrients: {
                '輔酶Q10': {
                    importance: '為體內95%的細胞提供能量(ATP)，是強效的抗氧化劑，尤其對心臟、大腦和肌肉至關重要。',
                    depletedBy: ['他汀類藥物', '降壓藥', '糖尿病藥物', '抗抑鬱藥'],
                    deficiencySymptoms: ['疲勞', '肌肉疼痛/無力', '心悸/心衰竭', '記憶力減退', '高血壓'],
                    foodSources: ['牛肉、心、肝', '沙丁魚、鯖魚', '菠菜、西藍花', '花生、芝麻']
                },
                '維生素B群': {
                    importance: '作為一個整體，B群是能量代謝、神經系統功能、DNA製造和情緒調節的核心。單獨的B群維生素各有其獨特且協同的作用。',
                    depletedBy: ['阻酸劑', '抗菌藥', '利尿劑', '雌激素藥物', '糖尿病藥物'],
                    deficiencySymptoms: ['疲勞(B1, B2, B12)', '貧血(B9, B12)', '皮膚問題(B2, B7)', '情緒低落/焦慮(B6, B9, B12)', '神經刺痛(B12)'],
                    foodSources: ['全穀物', '綠葉蔬菜', '豆類', '肉類、肝臟', '雞蛋、乳製品']
                },
                '鎂': {
                    importance: '參與體內超過300種酵素反應，是天然的鎮靜劑和肌肉鬆弛劑，對骨骼、心臟、血糖和情緒都極為重要。',
                    depletedBy: ['阻酸劑', '利尿劑', '雌激素藥物', '類固醇', '酒精'],
                    deficiencySymptoms: ['肌肉抽筋/痙攣', '焦慮/易怒', '失眠', '心悸', '偏頭痛', '對甜食的渴望'],
                    foodSources: ['綠葉蔬菜(菠菜)', '堅果(杏仁)', '種子(南瓜子)', '豆類', '黑巧克力']
                },
                '益生菌': {
                    importance: '指腸道內的有益菌，它們幫助消化、製造B群維生素、調節免疫系統(70%的免疫細胞在腸道)、並影響情緒。',
                    depletedBy: ['抗菌藥 (抗生素)', '阻酸劑', '類固醇', '高糖飲食', '壓力'],
                    deficiencySymptoms: ['消化不良、脹氣、腹瀉', '免疫力低下', '酵母菌/念珠菌感染', '皮膚問題', '情緒問題'],
                    foodSources: ['酸奶 (含活菌)', '克菲爾', '德國酸菜', '康普茶', '味噌']
                },
                '維生素D': {
                    importance: '不僅是維生素，更是一種影響體內數千個基因的荷爾蒙。對骨骼健康、免疫調節、情緒和預防多種慢性病至關重要。',
                    depletedBy: ['他汀類藥物', '類固醇', '抗驚厥藥', '脂肪阻斷劑', '缺乏日照'],
                    deficiencySymptoms: ['骨質疏鬆/骨痛', '免疫力低下', '季節性情緒失調(SAD)', '疲勞、肌肉無力'],
                    foodSources: ['多脂魚類(鮭魚、鯖魚)', '蛋黃', '強化牛奶', '最主要來源是陽光照射皮膚合成']
                },
                '鐵': {
                    importance: '製造血紅蛋白的核心成分，負責將氧氣輸送到全身。對能量、大腦功能和甲狀腺功能都很重要。',
                    depletedBy: ['阻酸劑', '止痛藥(NSAIDs可能導致微量出血)', '抗菌藥'],
                    deficiencySymptoms: ['疲勞、虛弱', '臉色蒼白', '呼吸急促', '頭暈', '指甲脆弱', '注意力不集中'],
                    foodSources: ['紅肉、肝臟 (血紅素鐵，易吸收)', '豆類、菠菜、豆腐 (非血紅素鐵)']
                },
                '鋅': {
                    importance: '重要的免疫礦物質，參與數百種酵素反應。對傷口癒合、生育能力、味覺、嗅覺和皮膚健康至關重要。',
                    depletedBy: ['阻酸劑', '利尿劑', '降壓藥(ACEI)', '雌激素藥物', '類固醇'],
                    deficiencySymptoms: ['免疫力下降、常感冒', '傷口癒合慢', '脫髮', '味覺或嗅覺減退', '皮膚問題(痤瘡)'],
                    foodSources: ['牡蠣 (含量最高)', '牛肉、羊肉', '南瓜子', '豆類', '螃蟹']
                },
                '褪黑素': {
                    importance: '主要由大腦松果體分泌的睡眠荷爾蒙，調節生理時鐘。它也是一種強效的抗氧化劑，並具備免疫調節功能。',
                    depletedBy: ['降壓藥(β受體阻滯劑)', '止痛藥(NSAIDs)', '抗抑鬱藥', '阻酸劑', '類固醇', '酒精'],
                    deficiencySymptoms: ['入睡困難、睡眠品質差', '免疫力下降', '加速老化', '增加某些癌症風險'],
                    foodSources: ['櫻桃', '燕麥', '玉米', '生薑', '西紅柿', '香蕉']
                }
            }
        };

        // --- 資料庫結束 ---

        function showTab(event, tabName) {
            document.querySelectorAll('.search-section').forEach(section => section.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(button => button.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            hideResults();
        }

        function populateGrids() {
            const drugGrid = document.getElementById('drug-grid');
            const symptomGrid = document.getElementById('symptom-grid');
            const nutrientGrid = document.getElementById('nutrient-grid');

            drugGrid.innerHTML = Object.keys(db.drugs).map(drug => 
                `<div class="search-item" onclick="showDrugResults('${drug}')">${drug}</div>`
            ).join('');

            symptomGrid.innerHTML = Object.keys(db.symptoms).map(symptom => 
                `<div class="search-item" onclick="showSymptomResults('${symptom}')">${symptom}</div>`
            ).join('');

            nutrientGrid.innerHTML = Object.keys(db.nutrients).map(nutrient => 
                `<div class="search-item" onclick="showNutrientResults('${nutrient}')">${nutrient}</div>`
            ).join('');
        }

        function showDrugResults(drug) {
            const data = db.drugs[drug];
            const resultsContent = document.getElementById('results-content');
            
            resultsContent.innerHTML = `
                <div class="result-card">
                    <h3>💊 ${drug}</h3>
                    ${data.examples ? `<h4>藥物名稱範例：</h4><ul>${data.examples.map(item => `<li>${item}</li>`).join('')}</ul>` : ''}
                    <h4>可能導致的副作用/後遺症：</h4>
                    <ul>${data.sideEffects.map(item => `<li>${item}</li>`).join('')}</ul>
                    <h4>作為「藥物盜匪」會消耗的營養素：</h4>
                    <ul>${data.depletedNutrients.map(item => `<li>${item}</li>`).join('')}</ul>
                    <h4>🌿 建議的營養補充與注意事項：</h4>
                    <ul>${data.solutions.map(item => `<li>${item}</li>`).join('')}</ul>
                </div>
            `;
            
            showResults();
        }

        function showSymptomResults(symptom) {
            const data = db.symptoms[symptom];
            const resultsContent = document.getElementById('results-content');
            
            resultsContent.innerHTML = `
                <div class="result-card symptom-card">
                    <h3>🩺 症狀：${symptom}</h3>
                    <h4>可能的原因 (藥物或營養缺乏)：</h4>
                    <ul>${data.possibleCauses.map(item => `<li>${item}</li>`).join('')}</ul>
                    <h4>🌿 建議的營養補充方案：</h4>
                    <ul>${data.solutions.map(item => `<li>${item}</li>`).join('')}</ul>
                </div>
            `;
            
            showResults();
        }

        function showNutrientResults(nutrient) {
            const data = db.nutrients[nutrient];
            const resultsContent = document.getElementById('results-content');
            
            resultsContent.innerHTML = `
                <div class="result-card nutrient-card">
                    <h3>🌿 ${nutrient}</h3>
                    <h4>重要性與主要作用：</h4>
                    <p>${data.importance}</p>
                    <h4>哪些藥物或生活方式會消耗它？</h4>
                    <ul>${data.depletedBy.map(item => `<li>${item}</li>`).join('')}</ul>
                    <h4>缺乏時可能出現的症狀：</h4>
                    <ul>${data.deficiencySymptoms.map(item => `<li>${item}</li>`).join('')}</ul>
                    <h4>富含此營養素的食物來源：</h4>
                    <ul>${data.foodSources.map(item => `<li>${item}</li>`).join('')}</ul>
                </div>
            `;
            
            showResults();
        }

        function showResults() {
            document.querySelector('.search-content').style.display = 'none';
            document.getElementById('results').classList.add('show');
            window.scrollTo({ top: document.querySelector('.search-tabs').offsetTop, behavior: 'smooth' });
        }

        function hideResults() {
            document.querySelector('.search-content').style.display = 'block';
            document.getElementById('results').classList.remove('show');
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', (event) => {
            populateGrids();
        });
    </script>
</body>
</html>